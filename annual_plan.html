<!DOCTYPE html>
<html lang="ps" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú©Ù„Ù†ÛŒ Ø¯Ø±Ø³ÙŠ Ù¾Ù„Ø§Ù† - Ø¨Ø§Ø¨Ø§ Ù‡ÙˆØªÚ© Ù„ÛŒØ³Ù‡</title>
    <style>
        :root { --primary: #4A90E2; --bg: #f8fafc; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); margin: 0; padding: 15px; direction: rtl; }
        .container { max-width: 650px; margin: auto; background: white; padding: 25px; border-radius: 25px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .calc-box { background: #eef5ff; padding: 20px; border-radius: 20px; margin-bottom: 20px; border: 1px dashed var(--primary); }
        .grid-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #444; font-size: 13px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 12px; box-sizing: border-box; }
        .result-area { background: white; padding: 15px; border-radius: 15px; margin-top: 15px; display: none; }
        .result-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0; font-size: 14px; }
        .btn-calc { background: var(--primary); color: white; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h2 style="text-align:center; color:var(--primary);">ğŸ“… Ø¯ Ú©Ù„Ù†ÙŠ Ù¾Ù„Ø§Ù† Ù…Ø­Ø§Ø³Ø¨Ù‡</h2>
    
    <div class="calc-box">
        <div class="grid-inputs">
            <div class="input-group">
                <label>Ø¯ Ú©ØªØ§Ø¨ Ø¯ Ù…Ø®ÙˆÙ†Ùˆ Ø´Ù…ÛØ±:</label>
                <input type="number" id="totalPages" placeholder="Ù…Ø«Ù„Ø§Ù‹: Û²Û°Û°" oninput="calculatePlan()">
            </div>
            <div class="input-group">
                <label>Ù¾Ù‡ Ø§ÙˆÙ†Û Ú©Û Ø³Ø§Ø¹ØªÙˆÙ†Ù‡:</label>
                <input type="number" id="weeklyHours" placeholder="Ù…Ø«Ù„Ø§Ù‹: Û´" oninput="calculatePlan()">
            </div>
        </div>
        <div class="input-group">
            <label>Ù¼ÙˆÙ„Û ØªØ¯Ø±ÛŒØ³ÙŠ Ø§ÙˆÙ†Û (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Û²Û¸):</label>
            <input type="number" id="totalWeeks" value="28" oninput="calculatePlan()">
        </div>
    </div>

    <div id="resultArea" class="result-area">
        <h4 style="margin-top:0; color:#2c3e50;">ğŸ“Š Ø¯ Ù…Ø­Ø§Ø³Ø¨Û Ù¾Ø§ÛŒÙ„Ù‡:</h4>
        <div class="result-item"><span>Ù¼ÙˆÙ„ Ú©Ù„Ù†ÙŠ Ø¯Ø±Ø³ÙŠ Ø³Ø§Ø¹ØªÙˆÙ†Ù‡:</span> <strong id="resTotalHours">Û°</strong></div>
        <div class="result-item"><span>Ø¯ Ù‡Ø± Ø³Ø§Ø¹Øª ØªØ¯Ø±ÛŒØ³ Ø§Ù†Ø¯Ø§Ø²Ù‡:</span> <strong id="resPagePerHour">Û°</strong> Ù…Ø®Ù‡</div>
        <div class="result-item"><span>Ø¯ Ù…ÛŒØ§Ø´ØªÛ ØªØ¯Ø±ÛŒØ³ Ø§Ù†Ø¯Ø§Ø²Ù‡:</span> <strong id="resPagePerMonth">Û°</strong> Ù…Ø®Ù‡</div>
        <button class="btn-calc" onclick="saveAnnualPlan()">Ø¯Ø§ Ù¾Ù„Ø§Ù† Ø«Ø¨Øª Ú©Ú“Ù‡ âœ…</button>
    </div>

    <a href="teacher_dashboard.html" style="display:block; text-align:center; margin-top:15px; text-decoration:none; color:#777;">â¬…ï¸ Ø¨ÛØ±ØªÙ‡ Ú‰Ø´Ø¨ÙˆØ±Ú‰ ØªÙ‡</a>
</div>

<script>
    function calculatePlan() {
        const pages = parseFloat(document.getElementById('totalPages').value);
        const weeklyHours = parseFloat(document.getElementById('weeklyHours').value);
        const weeks = parseFloat(document.getElementById('totalWeeks').value);

        if (pages && weeklyHours && weeks) {
            // Û±. Ú©Ù„Ù†ÙŠ Ø³Ø§Ø¹ØªÙˆÙ†Ù‡ = Ø§ÙˆÙ†Û Ã— Ø³Ø§Ø¹ØªÙˆÙ†Ù‡
            const totalHours = weeks * weeklyHours;
            
            // Û². Ø¯ Ù‡Ø± Ø³Ø§Ø¹Øª Ø§Ù†Ø¯Ø§Ø²Ù‡ = Ù…Ø®ÙˆÙ†Ù‡ Ã· Ú©Ù„Ù†ÙŠ Ø³Ø§Ø¹ØªÙˆÙ†Ù‡
            const pagePerHour = (pages / totalHours).toFixed(2);
            
            // Û³. Ù…ÛŒØ§Ø´ØªÙ†ÛŒ ØªØ¯Ø±ÛŒØ³ (Ù¾Ù‡ Ø§ÙˆØ³Ø· Ú‰ÙˆÙ„ Û´ Ø§ÙˆÙ†Û)
            const pagePerMonth = (pages / (weeks / 4)).toFixed(0);

            document.getElementById('resTotalHours').innerText = totalHours + " Ø³Ø§Ø¹ØªÙˆÙ†Ù‡";
            document.getElementById('resPagePerHour').innerText = pagePerHour;
            document.getElementById('resPagePerMonth').innerText = pagePerMonth;
            document.getElementById('resultArea').style.display = 'block';
        }
    }

    async function saveAnnualPlan() {
        // Ø¯Ù„ØªÙ‡ Ø¨Ù‡ Ø¯ Firebase Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ú©ÙˆÙ„Ùˆ Ú©ÙˆÚ‰ Ø§Ø¶Ø§ÙÙ‡ Ø´ÙŠ
        alert("Ø³ØªØ§Ø³Ùˆ Ú©Ù„Ù†ÛŒ Ù¾Ù„Ø§Ù† Ø¯ Ø³ÛŒØ³Ù¼Ù… Ù¾Ù‡ Ø­Ø§ÙØ¸Ù‡ Ú©Û Ø«Ø¨Øª Ø´Ùˆ!");
    }
</script>

</body>
</html>
